<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-material/paper-material.html"></script>
<link rel="import" href="card-list-item.html">
<dom-module id="main-card">

<style>

 paper-material{
    height:100%;
    width: 60%;
    padding: 0;
    margin: 1.5% auto;
    background: #FFF;
    left:20%;
    right:20%;
    float: left;
    clear:both;
    /*min-width:722px;*/
  }

  #main-card{
    height:100%;
    overflow:hidden;
  }

  .left-column{
    position:relative;
    float:left;
    width:35%;
    background-color:#FFFFFF;
    max-height:100%;
    overflow:hidden;
  }
  .left-column .inner-fade{
    position:absolute;
    left:0;top:0;right:0;bottom:0;
    -webkit-box-shadow: inset 0px -10px 10px 0px #fff;
    -moz-box-shadow: inset 0px -10px 10px 0px #fff;
    box-shadow: inset 0px -10px 10px 0px #fff;
  }
  .header-image{
    position:relative;
    width: 65%;
    height: 100%;
    overflow:hidden;
  }
  .header-image>img{
    position:absolute;
    top:0;left:0;
    height:100%;
  }

  .float-left{
    float:left;
    background: #FFFFFF;
  }
  .float-right{
    float:right;
  }

  .center{
    text-align: center;
    display: table-cell;
  }
  #card-header{
    padding:8% 4%;
    position:relative;
  }
  #card-header>div { white-space:nowrap; }
  #secondary-info{
    clear:both;
    padding:8% 4%;
    position:relative;
  }
  #secondary-info>div { white-space:nowrap; }
  #registration-wrapper{
    padding:8% 4%;
    position:relative;
  }
  .main-card-title{
    font-size: 14px; 
    font-weight: 700;
    color: rgba(0,0,0,.87);
  }

  .metric{
    color: #FF4081;
    font-weight: 500;
    font-size:36px;
  }

  .metric-description{
    font-size: 14px; 
    font-weight: 500;
    color: rgba(0,0,0,.54);
  }

</style>

<template>
  <paper-material elevation="2">
      <div id="main-card">
        <div class="header-image float-right"><img src="{{headerimage}}"></img></div>
        <!--TODO: set this up to handle all the card style -->
        <div class="left-column float-left">
                <div id="card-header">
                    <div class="float-left center fix-six max-six">
                      <span class="main-card-title">ATTENDEES</span></br>
                      <span class="metric">{{registrationcount}}</span>
                    </div>
                    
                    <div class="float-right center fix-six max-six">
                      <span class="main-card-title">REVENUE</span></br>
                      <span class="metric">{{ordertotal}}</span>
                    </div>
                </div>
                <div id="secondary-info">
                    <div class="float-left center fix-six max-six">
                      <span class="main-card-title">DISCOUNT CODE</span></br>
                      <span class="metric-description">{{discountcode}}</span>
                    </div>
                    <div class="float-right center fix-six max-six">
                      <span class="main-card-title">PROMOTER</span></br>
                      <span class="metric-description">{{promoter}}</span>
                    </div>
                </div>
                <div id="registration-wrapper">
                  <!-- Array of Elements -->
                   <template is="dom-repeat" items="{{attendeenames}}">
                      <card-list-item attendeename="{{item.name}}" tickettype="{{item.ticket_name}}"></card-list-item> 
                   </template>
                </div>
                <div class="inner-fade"></div>
        </div>
      </div>
  </paper-material>
</template>

<script>
    // element registration
    Polymer({
      is: "main-card",

      // add properties and methods on the element's prototype
      properties: {
        // declare properties for the element's public API
        headerimage:{
          type: String,
          value: "http://thewowstyle.com/wp-content/uploads/2015/02/1.Landscape-Photography.jpg"
        },
        registrationcount:{
          type: String,
          value: "6"
        },
        ordertotal:{
          type: String,
          value: "$100.00"
        },
        discountcode:{
          type: String,
          value: "NONE"
        },
        promoter:{
          type: String,
          value: "NONE"
        },
        attendeenames: Array
      }
    });
  </script>

</dom-module>